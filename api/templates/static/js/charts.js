console.log("Charts.js initialized");document.addEventListener('DOMContentLoaded', async function () {    const ctxHeartRate = document.getElementById('heartRateChart').getContext('2d');    const ctxBloodPressure = document.getElementById('bpChart').getContext('2d');    async function fetchVitalsHistory() {        try {            const response = await fetch('/api/vitals/history');            if (!response.ok) {                throw new Error('Failed to fetch vitals history');            }            const vitals = await response.json();            console.log("Vitals history fetched:", vitals);  // Log the fetched data            return vitals;        } catch (error) {            console.error("Error occurred while fetching vitals history:", error);            return [];        }    }    function plotChart(ctx, label, data, color) {        return new Chart(ctx, {            type: 'line',            data: {                labels: data.map(item => new Date(item.timestamp).toLocaleTimeString()),                datasets: [{                    label: label,                    data: data.map(item => item[label.toLowerCase().replace(' ', '_')]),                    borderColor: color,                    borderWidth: 2,                    fill: false,                    pointBackgroundColor: color,                    pointRadius: 3                }]            },            options: {                responsive: true,                plugins: {                    legend: {                        display: true                    }                },                scales: {                    x: {                        type: 'time',                        time: {                            unit: 'minute'                        },                        title: {                            display: true,                            text: 'Time'                        }                    },                    y: {                        title: {                            display: true,                            text: label                        }                    }                }            }        });    }    async function initializeCharts() {        const vitalsHistory = await fetchVitalsHistory();        if (vitalsHistory.length > 0) {            console.log("Initializing charts with vitals data...");            plotChart(ctxHeartRate, 'Heart Rate', vitalsHistory, '#FF5733');            plotChart(ctxBloodPressure, 'Blood Pressure', vitalsHistory, '#2E86DE');        } else {            console.error("No vitals data available to plot.");        }    }    initializeCharts();});