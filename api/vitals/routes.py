from flask import Flask, jsonify, requestfrom .twilio_integration import send_sms  # Import the send_sms functionfrom .database import save_vitals  # Assuming you have a function to save vitals to the DB# Initialize Flask appapp = Flask(__name__)# Example threshold values for alertHEART_RATE_THRESHOLD = 140  # Example threshold for heart rateBLOOD_PRESSURE_THRESHOLD = 150  # Example threshold for blood pressure@app.route('/api/vitals', methods=['POST'])def handle_vitals():    try:        data = request.get_json()  # Get the JSON data from the POST request        # Validate if heart_rate and blood_pressure exist in the data        if 'heart_rate' not in data or 'blood_pressure' not in data:            return jsonify({"error": "Missing heart_rate or blood_pressure"}), 400        heart_rate = data['heart_rate']        blood_pressure = data['blood_pressure']        # Determine if an alert is necessary        alert = "All Good"        if heart_rate > HEART_RATE_THRESHOLD:            alert = f"Heart Rate too high! ({heart_rate} bpm)"        elif blood_pressure > BLOOD_PRESSURE_THRESHOLD:            alert = f"Blood Pressure too high! ({blood_pressure} mmHg)"        # Save vitals data into the database        save_vitals(heart_rate, blood_pressure, alert)        # Send SMS if alert is triggered        if alert != "All Good":            message = f"Alert: {alert} | Heart Rate: {heart_rate} bpm | Blood Pressure: {blood_pressure} mmHg"            send_sms("+919556263453", message)  # Automatically sends SMS to the given phone number        return jsonify({"message": "Vitals saved successfully!"}), 200    except Exception as e:        # Catch any error and send back an error response        return jsonify({"error": str(e)}), 500if __name__ == "__main__":    app.run(debug=True)  # Running the app in debug mode for development